parameters:
  - name: playbookPath
    type: string
    default: 'playbook.yml'
  - name: inventoryPath
    type: string
    default: 'inventory/hosts.ini'

steps:
- task: Bash@3
  displayName: 'Install Ansible'
  inputs:
    targetType: 'inline'
    script: |
      sudo apt-get update
      sudo apt-get install -y ansible

- task: Bash@3
  displayName: 'Run Ansible Playbook'
  inputs:
    targetType: 'inline'
    script: |
      ansible-playbook ${{ parameters.playbookPath }} -i ${{ parameters.inventoryPath }}

